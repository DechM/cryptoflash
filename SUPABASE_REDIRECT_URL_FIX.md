# üî¥ –ö–†–ò–¢–ò–ß–ï–ù –ü–†–û–ë–õ–ï–ú: Email-–∏—Ç–µ –Ω–µ —Å–µ –∏–∑–ø—Ä–∞—â–∞—Ç –∑–∞—Ä–∞–¥–∏ Redirect URL!

## –ü—Ä–æ–±–ª–µ–º—ä—Ç

**–ê–∫–æ `emailRedirectTo` URL-—ä—Ç –ù–ï –µ –≤ —Å–ø–∏—Å—ä–∫–∞ —Å "Allowed Redirect URLs" –≤ Supabase, Supabase –ù–ï –ò–ó–ü–†–ê–©–ê email-–∞ –∏–∑–æ–±—â–æ!**

–¢–æ–≤–∞ –µ –Ω–∞–π-—á–µ—Å—Ç–∞—Ç–∞ –ø—Ä–∏—á–∏–Ω–∞ –∑–∞—â–æ email-–∏—Ç–µ –Ω–µ —Å–µ –∏–∑–ø—Ä–∞—â–∞—Ç, –¥–æ—Ä–∏ –∫–æ–≥–∞—Ç–æ –≤—Å–∏—á–∫–æ –¥—Ä—É–≥–æ –µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–æ –ø—Ä–∞–≤–∏–ª–Ω–æ.

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï (–ù–ê–ü–†–ê–í–ò –°–ï–ì–ê!)

### –°—Ç—ä–ø–∫–∞ 1: –ü—Ä–æ–≤–µ—Ä–∏ —Ç–µ–∫—É—â–∏—è Redirect URL

–û—Ç–≤–æ—Ä–∏ –±—Ä–∞—É–∑—ä—Ä Developer Tools (F12) ‚Üí Console ‚Üí –ù–∞–ø—Ä–∞–≤–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –í–∏–∂ –∫–∞–∫—ä–≤ URL —Å–µ –ª–æ–≥–≤–∞:
```
Signup attempt: { redirectUrl: "https://cryptoflash.app/auth/verify" }
```

–ó–∞–ø–∏—à–∏ —Ç–æ—á–Ω–æ —Ç–æ–∑–∏ URL.

### –°—Ç—ä–ø–∫–∞ 2: –î–æ–±–∞–≤–∏ URL-–∞ –≤ Supabase

1. **–û—Ç–∏–¥–∏ –≤:** Supabase Dashboard ‚Üí Authentication ‚Üí URL Configuration

2. **–ù–∞–º–µ—Ä–∏ —Å–µ–∫—Ü–∏—è—Ç–∞:** "Redirect URLs" –∏–ª–∏ "Additional Redirect URLs"

3. **–î–æ–±–∞–≤–∏ —Ç–æ—á–Ω–æ —Ç–æ–∑–∏ URL:**
   ```
   https://cryptoflash.app/auth/verify
   ```

4. **–í–ê–ñ–ù–û:** –î–æ–±–∞–≤–∏ –∏ —Å `/**` –∑–∞ –≤—Å–∏—á–∫–∏ –ø–æ–¥–ø—ä—Ç–∏—â–∞:
   ```
   https://cryptoflash.app/auth/verify/**
   ```
   
   –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ:
   ```
   https://cryptoflash.app/**
   ```

5. **–ó–∞–ø–∞–∑–∏ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ**

### –°—Ç—ä–ø–∫–∞ 3: –ü—Ä–æ–≤–µ—Ä–∏ Site URL

–í —Å—ä—â–∞—Ç–∞ —Å–µ–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∏:
- **Site URL:** —Ç—Ä—è–±–≤–∞ –¥–∞ –µ `https://cryptoflash.app` (–±–µ–∑ trailing slash)

### –°—Ç—ä–ø–∫–∞ 4: –¢–µ—Å—Ç–≤–∞–π

1. –ù–∞–ø—Ä–∞–≤–∏ –Ω–æ–≤–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
2. –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ email –ø—Ä–∏—Å—Ç–∏–≥–∞

---

## üîç –ö–∞–∫ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—à –¥–∞–ª–∏ —Ç–æ–≤–∞ –µ –ø—Ä–æ–±–ª–µ–º—ä—Ç

### –ú–µ—Ç–æ–¥ 1: Supabase Logs
1. –û—Ç–∏–¥–∏ –≤ Supabase Dashboard ‚Üí Logs ‚Üí Auth Logs
2. –ù–∞–º–µ—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—è –æ–ø–∏—Ç –∑–∞ signup
3. –ê–∫–æ –≤–∏–∂–¥–∞—à –≥—Ä–µ—à–∫–∞ –∫–∞—Ç–æ "redirect_url is not allowed" –∏–ª–∏ "Invalid redirect URL" ‚Üí —Ç–æ–≤–∞ –µ –ø—Ä–æ–±–ª–µ–º—ä—Ç!

### –ú–µ—Ç–æ–¥ 2: Console Logs
1. –û—Ç–≤–æ—Ä–∏ Developer Tools ‚Üí Console
2. –ù–∞–ø—Ä–∞–≤–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
3. –í–∏–∂ `Signup response:` –ª–æ–≥–∞
4. –ê–∫–æ `emailSent: false` –∏ –Ω—è–º–∞ error ‚Üí –≤–µ—Ä–æ—è—Ç–Ω–æ –µ redirect URL –ø—Ä–æ–±–ª–µ–º—ä—Ç

### –ú–µ—Ç–æ–¥ 3: Test Email Endpoint
–ù–∞–ø—Ä–∞–≤–∏ POST –∑–∞—è–≤–∫–∞ –∫—ä–º `/api/test-email`:
```bash
curl -X POST https://cryptoflash.app/api/test-email \
  -H "Content-Type: application/json" \
  -d '{"email": "test@example.com"}'
```

---

## üìù –í—Å–∏—á–∫–∏ URL-–∏, –∫–æ–∏—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ –≤ Redirect URLs

–î–æ–±–∞–≤–∏ –≤—Å–∏—á–∫–∏ —Ç–µ–∑–∏ –≤ Supabase:

```
https://cryptoflash.app/**
https://cryptoflash.app/auth/verify
https://cryptoflash.app/auth/callback
http://localhost:3000/auth/verify
http://localhost:3000/auth/callback
```

---

## ‚ö†Ô∏è –ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ –≥—Ä–µ—à–∫–∏

1. **–õ–∏–ø—Å–≤–∞ `/auth/verify`** –≤ Redirect URLs ‚Üí Email –Ω–µ —Å–µ –∏–∑–ø—Ä–∞—â–∞
2. **Trailing slash:** `https://cryptoflash.app/` –≤–º–µ—Å—Ç–æ `https://cryptoflash.app` ‚Üí –º–æ–∂–µ –¥–∞ –ø—Ä–∏—á–∏–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏
3. **HTTP –≤–º–µ—Å—Ç–æ HTTPS** –≤ production ‚Üí –Ω–µ —Ä–∞–±–æ—Ç–∏
4. **Localhost –Ω–µ –µ –¥–æ–±–∞–≤–µ–Ω** ‚Üí –Ω–µ —Ä–∞–±–æ—Ç–∏ –ø—Ä–∏ local development

---

## ‚úÖ –°–ª–µ–¥ –∫–∞—Ç–æ –Ω–∞–ø—Ä–∞–≤–∏—à –ø—Ä–æ–º–µ–Ω–∏—Ç–µ

1. –ò–∑—á–∞–∫–∞–π 1-2 –º–∏–Ω—É—Ç–∏ (Supabase –∫–µ—à–∏—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ)
2. –ù–∞–ø—Ä–∞–≤–∏ –Ω–æ–≤–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
3. Email-—ä—Ç –¢–†–Ø–ë–í–ê –¥–∞ –ø—Ä–∏—Å—Ç–∏–≥–Ω–µ

**–ê–∫–æ –ø–∞–∫ –Ω–µ —Ä–∞–±–æ—Ç–∏ —Å–ª–µ–¥ —Ç–æ–≤–∞ ‚Üí –ø—Ä–æ–±–ª–µ–º—ä—Ç –µ –≤ SMTP/SendGrid –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞, –ù–ï –≤ redirect URL-–∞.**

